<mat-card class="create-task-card">
  <mat-card-title>Create New Task</mat-card-title>
  <mat-card-content>
    <form [formGroup]="taskForm" (ngSubmit)="onSubmit()" class="task-form">
      <!-- Task Name -->
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Task Name</mat-label>
        <input matInput formControlName="name" required />
      </mat-form-field>

      <!-- Task Description -->
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Description</mat-label>
        <textarea matInput formControlName="description" required></textarea>
      </mat-form-field>

      <!-- Due Date -->
      <div class="form-row">
        <mat-form-field appearance="fill" class="half-width">
          <mat-label>Due Date</mat-label>
          <input
            matInput
            [matDatepicker]="picker"
            formControlName="dueDate"
            required
          />
          <mat-datepicker-toggle
            matSuffix
            [for]="picker"
          ></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>

        <!-- Assigned Users -->
        <mat-form-field appearance="fill" class="half-width">
          <mat-label>Assigned Users</mat-label>
          <mat-select formControlName="assignedUserIds" multiple required>
            <mat-option *ngFor="let user of users" [value]="user.id">{{
              user.name
            }}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <!-- Select Project -->
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Project</mat-label>
        <mat-select formControlName="projectId" required>
          <mat-option *ngFor="let project of projects" [value]="project.id">{{
            project.name
          }}</mat-option>
        </mat-select>
      </mat-form-field>

      <div class="form-actions">
        <button
          mat-raised-button
          color="primary"
          type="submit"
          [disabled]="taskForm.invalid"
        >
          Create Task
        </button>
      </div>
    </form>
  </mat-card-content>
</mat-card>
